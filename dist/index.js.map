{"version":3,"sources":["../src/index.ts","../src/genKey/index.ts","../src/localStorage/index.ts","../src/findElement/findElement.ts"],"sourcesContent":["export { default as genKey } from \"./genKey\";\nexport { default as LS } from \"./localStorage\";\nexport { default as findElement } from \"./findElement/findElement\";\n","export default function genKey(input: HTMLInputElement | HTMLSelectElement) {\n  return (\n    input.id ||\n    (input.type == \"checkbox\" || input.type == \"radio\"\n      ? input.type + input.name + input.value\n      : null) ||\n    input.name ||\n    getCoords(input)\n  );\n}\n\nfunction getCoords(elem: HTMLElement) {\n  let box = elem.getBoundingClientRect();\n  let top = (box.top + window.scrollY).toString();\n  let left = (box.left + window.scrollX).toString();\n  return top + left;\n}\n","class DataManager {\n  [key: string]: any;\n\n  constructor() {\n    this.refresh();\n  }\n\n  set(key: string, value: any) {\n    this[key] = value;\n    localStorage.setItem(\"data\", JSON.stringify(this));\n  }\n\n  get(key: string) {\n    return this[key];\n  }\n\n  refresh() {\n    const data = JSON.parse(localStorage.getItem(\"data\") || \"{}\");\n    Object.assign(this, data);\n  }\n\n  clear() {\n    localStorage.clear(); // clear localStorage\n    for (let key in this) { // clear this\n      delete this[key];\n    }\n  }\n}\n\nexport default new DataManager();\n","interface dataI {\n  all?: boolean | null;\n  upLimit?: number | null;\n  downLimit?: number | null;\n  index?: number | null;\n  result?: (HTMLElement | Element)[] | null;\n}\n\nexport default function findElement(\n  el: any,\n  fn: (element: any) => boolean,\n  data: dataI = {\n    all: false,\n    upLimit: null,\n    downLimit: null,\n    index: null,\n    result: null\n  }\n): any {\n  if (!el) return null;\n  if (!el.children.length && fn(el)) {\n    data.result = el;\n  } else {\n    for (let i = 0; i < el.children.length; i++) {\n      if (data.index && i == data.index) continue;\n      data.result = findElement(el.children[i], fn);\n      if (data.result) return data.result;\n    }\n  }\n  if (!data.result && data.upLimit) {\n    data.result = findElement(el.parentElement, fn, {\n      upLimit: --data.upLimit,\n      index: findIndex(el.parentElement, el),\n      \n    });\n  }\n}\n\nfunction findIndex(\n  array: (HTMLElement | Element)[],\n  elem: HTMLElement | Element\n): number {\n  return array.indexOf(elem);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAe,SAAR,OAAwB,OAA6C;AAC1E,SACE,MAAM,OACL,MAAM,QAAQ,cAAc,MAAM,QAAQ,UACvC,MAAM,OAAO,MAAM,OAAO,MAAM,QAChC,SACJ,MAAM,QACN,UAAU,KAAK;AAEnB;AAEA,SAAS,UAAU,MAAmB;AACpC,MAAI,MAAM,KAAK,sBAAsB;AACrC,MAAI,OAAO,IAAI,MAAM,OAAO,SAAS,SAAS;AAC9C,MAAI,QAAQ,IAAI,OAAO,OAAO,SAAS,SAAS;AAChD,SAAO,MAAM;AACf;;;AChBA,IAAM,cAAN,MAAkB;AAAA,EAGhB,cAAc;AACZ,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,IAAI,KAAa,OAAY;AAC3B,SAAK,GAAG,IAAI;AACZ,iBAAa,QAAQ,QAAQ,KAAK,UAAU,IAAI,CAAC;AAAA,EACnD;AAAA,EAEA,IAAI,KAAa;AACf,WAAO,KAAK,GAAG;AAAA,EACjB;AAAA,EAEA,UAAU;AACR,UAAM,OAAO,KAAK,MAAM,aAAa,QAAQ,MAAM,KAAK,IAAI;AAC5D,WAAO,OAAO,MAAM,IAAI;AAAA,EAC1B;AAAA,EAEA,QAAQ;AACN,iBAAa,MAAM;AACnB,aAAS,OAAO,MAAM;AACpB,aAAO,KAAK,GAAG;AAAA,IACjB;AAAA,EACF;AACF;AAEA,IAAO,uBAAQ,IAAI,YAAY;;;ACrBhB,SAAR,YACL,IACA,IACA,OAAc;AAAA,EACZ,KAAK;AAAA,EACL,SAAS;AAAA,EACT,WAAW;AAAA,EACX,OAAO;AAAA,EACP,QAAQ;AACV,GACK;AACL,MAAI,CAAC,GAAI,QAAO;AAChB,MAAI,CAAC,GAAG,SAAS,UAAU,GAAG,EAAE,GAAG;AACjC,SAAK,SAAS;AAAA,EAChB,OAAO;AACL,aAAS,IAAI,GAAG,IAAI,GAAG,SAAS,QAAQ,KAAK;AAC3C,UAAI,KAAK,SAAS,KAAK,KAAK,MAAO;AACnC,WAAK,SAAS,YAAY,GAAG,SAAS,CAAC,GAAG,EAAE;AAC5C,UAAI,KAAK,OAAQ,QAAO,KAAK;AAAA,IAC/B;AAAA,EACF;AACA,MAAI,CAAC,KAAK,UAAU,KAAK,SAAS;AAChC,SAAK,SAAS,YAAY,GAAG,eAAe,IAAI;AAAA,MAC9C,SAAS,EAAE,KAAK;AAAA,MAChB,OAAO,UAAU,GAAG,eAAe,EAAE;AAAA,IAEvC,CAAC;AAAA,EACH;AACF;AAEA,SAAS,UACP,OACA,MACQ;AACR,SAAO,MAAM,QAAQ,IAAI;AAC3B;","names":[]}